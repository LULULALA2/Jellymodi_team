<p align="center"><img src="https://user-images.githubusercontent.com/104331479/185329655-95f41df4-dec5-4e94-b6b8-471a0ef2deba.png" width="80%" height="80%"></p>

# <img src="https://user-images.githubusercontent.com/104331479/185330319-86af99b3-0eb2-4a75-a0c4-2b36808a3734.png" width="30" height="30"/> Project Jellymodi

**ë¨¸ì‹ ëŸ¬ë‹ ì‚¬ë¬¼ì¸ì‹ í”„ë¡œì íŠ¸ - ì ¤ë¦¬ëª¨ë””(Jellymodi: Jelly mood diary)**

Python OpenCV ë¥¼ ì´ìš©í•˜ì—¬ ì–¼êµ´ í‘œì •ì„ ì¸ì‹í•˜ê³ , ë¶„ì„í•œ í‘œì •ì— í•´ë‹¹í•˜ëŠ” ì ¤ë¦¬ ì´ëª¨í‹°ì½˜ì„ ë„£ì–´ ì¼ê¸°ë¥¼ ì“°ëŠ” ì›¹ì‚¬ì´íŠ¸ ì œì‘

<br>

# â­Intro
* mood tracker ê¸°ë²•ì„ ì‚¬ìš©í•˜ëŠ” ì¼ê¸° ì‘ì„± ì„œë¹„ìŠ¤
* Python OpenCV ì„ ì´ìš©í•œ ì–¼êµ´ì¸ì‹
* í•œêµ­ì¸ ì–¼êµ´ í‘œì • ë°ì´í„° ë¶„ì„ì„ í•™ìŠµì‹œí‚¨ ëª¨ë¸ ì œì‘ (ë°ì´í„°ì…‹ : <a href="https://aihub.or.kr/aihubdata/data/view.do?currMenu=115&topMenu=100&aihubDataSe=realm&dataSetSn=82">AIHub - í•œêµ­ì¸ ê°ì •ì¸ì‹ì„ ìœ„í•œ ë³µí•© ì˜ìƒ</a>)
* S.A(Starting Assignment) : https://typingmylife.notion.site/Jellymodi-5e43c9f96bb04da7b4de26aac6eceeca

<div>
   <img src="https://img.shields.io/badge/Python-3776AB?style=for-the-badge&logo=Python&logoColor=white">
   <img src="https://img.shields.io/badge/Flask-000000?style=for-the-badge&logo=Flask&logoColor=white">
   <img src="https://img.shields.io/badge/SQLite-003B57?style=for-the-badge&logo=SQLite&logoColor=white">
</div>

<br>

# ğŸ“ŒProject
### í”„ë¡œì íŠ¸ ê¸°íš ë° ëª©ì 
* ì‹œì—°ì˜ìƒ : https://ddongkim.tistory.com/37
* ì›ë³¸ íŒ€ ê¹ƒí—ˆë¸Œ : https://github.com/cmjcum/Jellymodi_team

* ëª©ì  : backend ì‹¤ë ¥ í–¥ìƒ ( HTML, JavaScript, Ajax, Python, Flask, MongoDB )
* 1ì°¨ ëª©í‘œ : ì¸ìŠ¤íƒ€ í˜ì´ì§€ ê¸°ë³¸ê¸°ëŠ¥ êµ¬í˜„
  * íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ (JWT ì‚¬ìš©)
  * ë©”ì¸í˜ì´ì§€ ê²Œì‹œë¬¼(CRUD), ê²Œì‹œë¬¼ í™œë™
  * ìº /ì‚¬ì§„ì„ í†µí•œ ì–¼êµ´ì¸ì‹ â†’ ë¨¸ì‹ ëŸ¬ë‹ ì‚¬ë¬¼ì¸ì‹ ëª¨ë¸ì„ ì´ìš©í•œ ê°ì •íŒë³„ â†’ í•´ë‹¹ í‘œì •ì— ë§ëŠ” ì´ëª¨í‹°ì½˜ í‘œì‹œ
* 2ì°¨ ëª©í‘œ : ë¶€ê°€ê¸°ëŠ¥ êµ¬í˜„
  * êµ¬ê¸€ë¡œê·¸ì¸ ì—°ë™ê¸°ëŠ¥

<br>

### âœ” ë‹´ë‹¹ ì—­í• 
<details>
<summary>í•œêµ­ì¸ ê°ì •ì¸ì‹ ë°ì´í„°ì…‹ ì „ì²˜ë¦¬ ë° ëª¨ë¸ ì „ì´í•™ìŠµ</summary>      
<br>
ê¸°ì¡´ ë°ì´í„°ì…‹ì—ì„œëŠ” ë¼ë²¨ì´ ê¸°ì¨, ë‹¹í™©, ë¶„ë…¸, ë¶ˆì•ˆ, ìƒì²˜, ìŠ¬í””, ì¤‘ë¦½ì˜ 7ê°œë¡œ ë¶„ë¥˜ë˜ì–´ìˆì—ˆëŠ”ë°, í‘œì •ë§Œ ë³´ê³ ëŠ” ì‚¬ëŒë„ ì¸ì‹í•˜ê¸° í˜ë“  í‘œì •ì´ ë§ì•˜ê¸° ë•Œë¬¸ì— ì¸ì‹ë¥ ì„ ë†’ì´ê¸° ìœ„í•˜ì—¬ ê¸°ì¨, ìŠ¬í””, ë¶„ë…¸, ì¤‘ë¦½ì˜ 4ê°œì˜ ê°ì •ìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤. ë˜í•œ ì˜¬ë°”ë¥´ê²Œ ë¶„ë¥˜ë˜ì§€ ì•Šì€ ì‚¬ì§„ì´ë‚˜ í‘œì •ì„ ì¸ì‹í•˜ê¸°ì— ì• ë§¤í•œ ì‚¬ì§„ë„ ë§ì•˜ê¸° ë•Œë¬¸ì— ëª¨ë¸ì˜ í•™ìŠµì„ ìœ„í•´ì„œ í‘œì •ì´ ëª…í™•í•œ ì‚¬ì§„ì„ ê³ ë¥´ê³  ê° ì‚¬ì§„ë“¤ì—ì„œ ì–¼êµ´ë§Œ ì˜ë¼ë‚´ëŠ” ì‘ì—…ì„ ì¶”ê°€ë¡œ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.
<br>
ë°ì´í„° ì „ì²˜ë¦¬ í›„ì— ë§Œë“¤ì–´ì§„ ìƒˆë¡œìš´ ë°ì´í„°ì…‹ìœ¼ë¡œ ì½”ë©ì—ì„œ InceptionV3 ëª¨ë¸ì„ ì „ì´í•™ìŠµí•˜ì—¬ ì •í™•ë„ ì•½ 0.90ì˜ ê°ì •ë¶„ë¥˜ ëª¨ë¸ì„ ì œì‘í–ˆìŠµë‹ˆë‹¤.
<br>(ì½”ë© : https://colab.research.google.com/drive/1HKmdTvZSvowDDntpqg81ZUiUrp3hg4IY?usp=sharing)

```python
from tensorflow.keras.applications.inception_v3 import InceptionV3

input = Input(shape=(224, 224, 3))
base_model = InceptionV3(weights='imagenet', include_top=False, input_tensor=input, pooling='max')

x = base_model.output
x = Dropout(rate=0.25)(x)
x = Dense(64, activation='relu')(x)
x = Dense(256, activation='relu')(x)
x = Dense(64, activation='relu')(x)
x = Dense(32, activation='relu')(x)
x = Dense(8, activation='relu')(x)
output = Dense(4, activation='softmax')(x)

model = Model(inputs=base_model.input, outputs=output)
model.compile(loss='categorical_crossentropy', optimizer=Adam(lr=0.001), metrics=['acc'])
```
</div>
</details>

- íšŒì›ê°€ì…/ë¡œê·¸ì¸ í˜ì´ì§€, ê¸€ ì‘ì„± í˜ì´ì§€ ì œì‘
- íšŒì›ê°€ì…/ë¡œê·¸ì¸ ê¸°ëŠ¥ êµ¬í˜„

### ERD
![186601476-8fe8385d-8390-4747-9240-915795ca906c](https://user-images.githubusercontent.com/104331479/187063943-d493f725-7dc5-4240-8ee7-e348446cc377.png)


# ğŸ§¨TroubleShooting

### 1. ì–¼êµ´ì´ ì•„ë‹Œ ê²ƒì„ ì–¼êµ´ë¡œ ì¸ì‹í•˜ëŠ” ë¬¸ì œ
ì±… í‘œì§€ë‚˜ í¬ìŠ¤í„° ë“± ì–¼êµ´ì´ ì•„ë‹Œ ê²ƒì„ ì–¼êµ´ë¡œ ì¸ì‹í•˜ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì‚¬ì§„ ì†ì˜ ì–¼êµ´ í¬ê¸° í‰ê· ì¹˜ë¥¼ ê³„ì‚°í•´ì„œ ì–¼êµ´ ê²€ì¶œ ì‚¬ì´ì¦ˆë¥¼ í‰ê· í¬ê¸° ì´ìƒìœ¼ë¡œ í•œì •ì‹œì¼œì„œ ì–¼êµ´ì´ ì•„ë‹Œ ê²ƒì„ ì–¼êµ´ë¡œ ì¸ì‹í•˜ëŠ” ë¬¸ì œë¥¼ ëŒ€ë¶€ë¶„ í•´ê²°í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.

<code> faces = face_cascade.detectMultiScale(gray, 1.2, minSize=(75,75)) </code>

### 2. ì‚¬ì§„ì—ì„œ ì–¼êµ´ë§Œ ì˜ë¼ ì €ì¥í•˜ëŠ” ê³¼ì •ì—ì„œ ê³„ì† ì˜¤ë¥˜ ë°œìƒ
ë°ì´í„° ì „ì²˜ë¦¬ê³¼ì •ì—ì„œ ì‚¬ì§„ì—ì„œ ì–¼êµ´ë§Œ ì˜ë¼ ì €ì¥í•´ ëª¨ë¸ì„ í•™ìŠµì‹œí‚¤ë ¤ê³  í–ˆìŠµë‹ˆë‹¤. ê·¸ëŸ°ë° íŠ¹ì • ì‚¬ì§„ì€ ì–¼êµ´ì¸ì‹ë„ ì œëŒ€ë¡œ ë˜ì§€ ì•Šê³ , ë‹¤ìŒ ì‚¬ì§„ìœ¼ë¡œë„ ë„˜ì–´ê°€ì§€ ì•Šê³  ê³„ì† ì˜¤ë¥˜ë¡œ ë©ˆì¶”ëŠ” ë¬¸ì œê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

- ì´ë¯¸ì§€ í´ë” ê²½ë¡œ ìˆ˜ì • :  "\\"ì—ì„œ "/"ë¡œ ìˆ˜ì •
- íŠ¹ì • ì‚¬ì§„ì—ì„œëŠ” ì–¼êµ´ì´ ì—¬ëŸ¬ê°œ ì¸ì‹ë¨ : ì–¼êµ´ ê°ì§€ í¬ê¸°ì— ìµœì†Œ í¬ê¸°ë¥¼ ì£¼ê³  ì—¬ëŸ¬ê°œ ì¸ì‹ë˜ë©´ cropëœ ì˜ì—­ë“¤ì„ ë²ˆí˜¸ë¥¼ ë¶™ì—¬ ëª¨ë‘ ì €ì¥í•˜ê²Œ í•¨
- íŠ¹ì • ì‚¬ì§„ì—ì„œ ì–¼êµ´ì´ ì¸ì‹ë˜ì§€ ì•ŠìŒ : ì¸ì‹ì´ ì•ˆë˜ì„œ ë©ˆì¶”ë©´ ifë¬¸ìœ¼ë¡œ cropëœ ì‚¬ì§„ì´ 1ê°œ ì´ìƒì¸ ê²ƒë§Œ ë„˜ì–´ê°€ê²Œ í•¨
- ì½”ë“œê°€ ëŒì•„ê°”ëŠ”ë°ë„ ì´ë¯¸ì§€ê°€ ì €ì¥ì´ ì•ˆë¨ : ì €ì¥ ê²½ë¡œë¡œ ì§€ì •ë˜ìˆëŠ” ì´ë¯¸ì§€ í´ë”ë¥¼ ë¯¸ë¦¬ ìƒì„±í•´ì¤˜ì•¼ í•¨

<details>
<summary>ì½”ë“œ ìˆ˜ì • ì „</summary> 

```python
import cv2
import glob

# haarcascade ë¶ˆëŸ¬ì˜¤ê¸°
face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')

images = glob.glob('images\*')
for image in images:
    # ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
    img = cv2.imread(image)
    img = cv2.resize(img, dsize=(0, 0), fx=0.3, fy=0.3, interpolation=cv2.INTER_AREA)
    gray = cv2.cvtColor(img, cv2.COLOR_BGR2GRAY)

    # ì–¼êµ´ ì°¾ê¸°
    faces = face_cascade.detectMultiScale(gray, 1.3, 5)
    for (x, y, w, h) in faces:
        img_x1 = x
        img_x2 = x + w
        img_y1 = y
        img_y2 = y + h

    img = img[img_y1:img_y2, img_x1:img_x2]

    try:
        print(f'face/{image}')
        cv2.imwrite(f'face/{image}', img)
    except:
        pass
```

</div>
</details>

<details>
<summary>ì½”ë“œ ìˆ˜ì • í›„</summary> 

```python
import cv2
import glob

# haarcascade ë¶ˆëŸ¬ì˜¤ê¸°
face_cascade = cv2.CascadeClassifier(cv2.data.haarcascades + 'haarcascade_frontalface_default.xml')

images = glob.glob('images/*')
print("images =", end=""), print(images)

result_list = []

for i in images:
    temp = i.replace("\\", "/")
    result_list.append(temp)

print("result_list = ", end=""), print(result_list)

# ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸°
for image in result_list:

    if "jpg" in image:
        print("image = ", end=""), print(image)

        ori_img = cv2.imread(image)
        ori_img = cv2.resize(ori_img, dsize=(0, 0), fx=0.4, fy=0.4, interpolation=cv2.INTER_AREA)
        gray = cv2.cvtColor(ori_img, cv2.COLOR_BGR2GRAY)

        # ì–¼êµ´ ì°¾ê¸°
        faces = face_cascade.detectMultiScale(gray, 1.2, minSize=(75,75))
        print("faces =", end=""), print(faces)

        cnt = 0
        for (x, y, w, h) in faces:
            img_x1 = x
            img_x2 = x + w
            img_y1 = y
            img_y2 = y + h

            img = ori_img[img_y1:img_y2, img_x1:img_x2]

            image_file_name = image.split('.')
            print("image_file_name =", end=""), print(image_file_name)
            file_name = image_file_name[0]
            extension = image_file_name[1]

            file_name += str(cnt)

            filename = 'face/images/' + file_name + '.' + extension
            print("filename =", end=""), print(filename)
            cv2.imwrite(filename, img)

            cnt += 1
```

</div>
</details>

<br>

# ğŸ–‹íšŒê³ 
ì¼ê¸°ë¥¼ ì“´ë‹¤ëŠ” ê°„ë‹¨í•œ í–‰ìœ„ì— ê°ì •ì¸ì‹ê³¼ ì ¤ë¦¬ì´ëª¨í‹°ì½˜ì´ë¼ëŠ” ì•„ì´ë””ì–´ë¥¼ ì–¹ì–´ì„œ ì¬ë¯¸ìˆëŠ” í”„ë¡œì íŠ¸ë¡œ ë§Œë“  ê²ƒ ê°™ì•„ì„œ ì¢‹ì•˜ë‹¤. ë³µì¡í•œ ê¸°ëŠ¥ì„ ë„£ì–´ì„œ ë§Œë“  í”„ë¡œì íŠ¸ëŠ” ì•„ë‹ˆì§€ë§Œ ì²˜ìŒìœ¼ë¡œ ë¨¸ì‹ ëŸ¬ë‹ì„ í”„ë¡œì íŠ¸ì— ì—°ê²°ì‹œì¼œ ë§Œë“¤ì–´ë³¸ í”„ë¡œì íŠ¸ì—¬ì„œ ë¿Œë“¯í–ˆë‹¤. íŒ€ì›ë“¤ê³¼ ì§ì ‘ ë°ì´í„°ì…‹ ì •ë¦¬ë¶€í„° ëª¨ë¸ ì œì‘ê¹Œì§€ ë‹¤ í•¨ê»˜í–ˆë˜ ê²ƒì´ ì œì¼ ì¬ë°Œì—ˆë˜ ì¼ì´ ì•„ë‹Œê°€ ì‹¶ë‹¤. ë‚´ê°€ ì“´ ì½”ë“œ ëª‡ ì¤„ì— ëª¨ë¸ì´ í•™ìŠµì„ í•´ì„œ ê²°ê³¼ë¬¼ì„ ë³´ì—¬ì¤€ë‹¤ëŠ” ê²ƒì´ ì‹ ê¸°í–ˆë‹¤. ë˜í•œ ë§¤ë²ˆ ì¼ì£¼ì¼ì´ ì•ˆë˜ëŠ” ì§§ì€ ì‹œê°„ë™ì•ˆ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ë³´ë‹ˆ í•­ìƒ ì‹œê°„ì— ì«“ê²¨ í”„ë¡œì íŠ¸ë¥¼ ë§ˆê°í•˜ê³ ëŠ” í•˜ëŠ”ë°, ë…¸ì…˜ìœ¼ë¡œ ì¼ì •ê´€ë¦¬ë¥¼ í•´ë³´ë‹ˆ ì´ë²ˆì—ëŠ” ì¢€ ë” ì—¬ìœ ë¡­ê²Œ í”„ë¡œì íŠ¸ë¥¼ ë§ˆê°í•  ìˆ˜ ìˆì—ˆë˜ ê²ƒ ê°™ë‹¤. ì§§ì€ ì‹œê°„ì´ì—ˆì§€ë§Œ ê¸°íší•œëŒ€ë¡œ ë‹¤ ì™„ì„±ì„ í–ˆê³ , ë‚˜ì¤‘ì— ì–´í”Œë¡œ ì¶œì‹œí•´ë³´ê³  ì‹¶ì€ ê·€ì—¬ìš´ ëª¨ì–‘ìƒˆê°€ ë‚˜ì™€ì„œ ë§Œì¡±ìŠ¤ëŸ¬ì› ë‹¤.

<br>

# ğŸ‘¨â€ğŸ‘¨â€ğŸ‘§â€ğŸ‘§TEAM Coumi
**íŒ€ ì½”ìš°ë¯¸ (ì½”ë”©ëª»í•˜ë©´ ìš°ëŠ” ë¯¸ë‹ˆì–¸ì¦ˆ)**
| íŒ€ì› | ì´ë¦„ | ì—­í•  | ê¹ƒí—ˆë¸Œ |
|:----------:|:----------:|:----------:|:----------:|
| ëŒ€ì¥ ë¯¸ë‹ˆì–¸ (íŒ€ì¥) | **ì´ì •ì•„** | ì¼ê¸° ì¡°íšŒ í˜ì´ì§€ | <a href="https://github.com/zeonga1102"><img src="https://img.shields.io/badge/Github-000000?style=flat-square&logo=github&logoColor=white"/></a> |
| ë””ìì´ë„ˆ ë¯¸ë‹ˆì–¸ | **ë…¸ì„** | ë©”ì¸ í˜ì´ì§€ | <a href="https://github.com/minkkky"><img src="https://img.shields.io/badge/Github-000000?style=flat-square&logo=github&logoColor=white"/></a> |
| ê¸°íšì ë¯¸ë‹ˆì–¸ | **ì´í˜„ê²½** | ë¡œê·¸ì¸ ë° íšŒì›ê°€ì… í˜ì´ì§€ | <a href="https://github.com/LULULALA2"><img src="https://img.shields.io/badge/Github-000000?style=flat-square&logo=github&logoColor=white"/></a> |
| ë§‰ë‚´ ë¯¸ë‹ˆì–¸ | **ê¹€ë™ê·¼** | ì¼ê¸° ì‘ì„± í˜ì´ì§€ | <a href="https://github.com/cmjcum"><img src="https://img.shields.io/badge/Github-000000?style=flat-square&logo=github&logoColor=white"/></a> |
* ëª¨ë¸ì œì‘ - íŒ€ ì „ì²´ ì°¸ì—¬

<br>

# âœê¸°íš ë° ì¼ì •
* ì™€ì´ì–´í”„ë ˆì„

![í”¼ê·¸ë§ˆ ëª©ì—…](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcoToUW%2FbtrCumtehoi%2FKCUpBnVBXOQhBOQnIMz4WK%2Fimg.png)

* ì ¤ë¦¬í‹°ì½˜ ì œì‘

![ì ¤ë¦¬í‹°ì½˜ì œì‘](https://user-images.githubusercontent.com/104331479/185370310-7f77facf-19a5-43e2-8b67-f8bc4e62302d.PNG)

* ì¼ì •

![ì¼ì • ê´€ë¦¬](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FdpoO9z%2FbtrCuVvoecp%2FV9ZiulP6KUSxxo8lWLfIG0%2Fimg.png)

<br>

# ì‹¤í–‰í™”ë©´
* ë¡œê·¸ì¸ & ë©”ì¸í™”ë©´
![ë¡œê·¸ì¸-ë©”ì¸í™”ë©´](https://user-images.githubusercontent.com/104331479/185368926-32a15726-98a1-47c1-a4a5-a5e025da8d36.png)

* ê¸€ì‘ì„±
![ê¸€ì‘ì„±](https://user-images.githubusercontent.com/104331479/185368976-bee79add-1ff6-4aac-b344-394ab8a7ad08.png)

* ê¸€ ìƒì„¸ & ë©”ë‰´
![ê¸€ìƒì„¸-ëª¨ë‹¬](https://user-images.githubusercontent.com/104331479/185369005-ffd33b83-e248-4bb5-96ae-e0fc4d328218.png)
